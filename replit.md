# JournOwl Application

## Overview
JournOwl is a multi-dashboard journaling application that leverages AI to provide personalized experiences. It aims to encourage daily journaling through an inviting user interface, animated backgrounds, AI-powered insights, comprehensive analytics, and role-based dashboards. The project's vision is to combine intuitive design with advanced AI to create a unique and engaging journaling platform for diverse user types, fostering self-reflection and personal growth.

## User Preferences
Preferred communication style: Simple, everyday language.
UI/UX preferences: Animated, colorful, inviting design that gets users excited to test and use the app regularly.

## âœ… SESSION 14 COMPLETE - 3 MAJOR RETENTION + GROWTH FEATURES DEPLOYED (November 25, 2025)

### Three Game-Changing Features - NOW LIVE ğŸš€

#### 1. **Achievement Badges + Level System** ğŸ–ï¸
- **Dynamic 8-Level Progression** - Users progress from Novice â†’ Legend based on entries
- **Animated Progress Bars** - Visual feedback showing progress to next level
- **11 Unlockable Achievements** - Across 5 categories: Milestones, Streaks, Writing, Social, Consistency
- **Beautiful Achievement Grid** - Tabbed interface with locked/unlocked badges
- **Real-Time Badge Unlocking** - Badges unlock as users hit thresholds (First Entry, 50 Entries, 100-Day Streak, etc.)
- **Tier Rewards** - Advocate (5 referrals) â†’ Ambassador (20 referrals) â†’ VIP
- **Live in Achievements Tab** - Shows current level with satifying animations

#### 2. **Email Reminder System** ğŸ“§
- **Smart SendGrid Integration** - Automated emails when users miss 2+ days
- **Streak Milestone Emails** - Celebration emails for 7, 14, 30, 60, 100-day streaks
- **Personalized Messaging** - Each email tailored to user stats and behavior
- **Beautiful Email Templates** - Gradient backgrounds with clear CTAs
- **Backend Service** - `reminderService.ts` with email generation logic
- **API Endpoint** - `/api/notifications/send-email` for manual triggers
- **Live Detection** - System checks when users return and shows context-aware reminders

#### 3. **Referral + Viral Growth System** ğŸ
- **Unique Referral Codes** - Each user gets personalized code (format: JOW[userId][random])
- **Referral Stats Dashboard** - Shows total referrals, completed, bonus prompts, tier level
- **50-Point Bonus** - Each successful referral unlocks 50 AI prompt bonus
- **Three Tier Levels** - Advocate, Ambassador, VIP based on referral count
- **Backend Service** - `referralService.ts` with full referral tracking
- **API Endpoints:**
  - `/api/referrals/code` - Generate personal referral code
  - `/api/referrals/stats` - Get referral statistics
  - `/api/referrals/redeem` - Redeem a referral code
- **Live in Referral Tab** - Shows shareable code and progress to next tier

---

## âœ… SESSION 13 COMPLETE - 2 NEW ONBOARDING + WEATHER FEATURES DEPLOYED (November 25, 2025)

### Two Engagement-Driving Features - LIVE ğŸš€

#### 1. **5-Step Onboarding Flow** ğŸ¯
- **Animated Modal Overlay** - Full-screen onboarding that appears on first dashboard visit
- **Progressive Feature Introduction:**
  - Step 1: Welcome to JournOwl
  - Step 2: AI-Powered Insights & Coaching
  - Step 3: Social Connection & Leaderboards
  - Step 4: Premium Features Unlock
  - Step 5: Ready to Begin
- **Smart Skip Logic** - Back button and skip option on all steps
- **LocalStorage Tracking** - `journowl_onboarding_seen` flag prevents re-showing to existing users
- **Beautiful UI** - Animated icons, progress dots, gradient backgrounds
- **Backend:** Already integrated with props flowing through App â†’ AuthenticatedApp
- **Live on:** First time any user logs in (auto-dismisses after completion)

#### 2. **Weather Mood Prompts** ğŸŒ¤ï¸
- **Smart Context Suggestions** - 5 weather patterns (sunny, rainy, cloudy, snowy, stormy)
- **Personalized Prompts** - Each weather pattern has custom journaling suggestions
- **Visual Indicators** - Weather emoji (â˜€ï¸ğŸŒ§ï¸â˜ï¸â„ï¸â›ˆï¸) at top of journal tab
- **API Endpoint** - `/api/weather` returns contextual suggestions
- **Backend Service** - `weatherService.ts` with weather pattern logic
- **Frontend Display** - `WeatherMoodPrompt.tsx` component in journal tab header
- **Real-Time:** Fetched fresh each time user opens journal
- **Live on:** Journal tab (appears above Extended Summaries)

---

## âœ… SESSION 12 COMPLETE - 5 MAJOR FEATURES DEPLOYED (November 25, 2025)

### Five Production-Ready Features - LIVE ğŸš€

#### 1. **Advanced Analytics** ğŸ“Š
- AI-powered mood trend detection (improving/declining/stable)
- Confidence scoring based on entry data volume
- Tomorrow's predicted mood using ML patterns
- Weekly insights generated by GPT-4o
- Smart recommendations tailored to mood trajectory
- Live in Analytics tab with beautiful gradient cards

#### 2. **Extended AI Summaries (Premium)** âœ¨
- **Weekly Summaries:** Overview, key highlights, mood arc, next-week recommendations
- **Monthly Summaries:** Themes, growth areas, evolution analysis, stats dashboard
- Premium tier gating with clear upgrade prompts for free users
- Beautiful tabbed interface with 6 gorgeous gradient cards
- Live in Journal tab above WeeklySummary component
- Endpoints: `/api/summaries/weekly` and `/api/summaries/monthly`

#### 3. **Complete Shared Journals** ğŸ‘¥
- Full backend ready: create, fetch, invite, share entries
- Database schema with proper relationships
- 5 storage methods implemented for team/family collaboration
- Public/private visibility toggle
- API ready for collaboration workflows

#### 4. **Global Leaderboards** ğŸ†
- **Weekly Rankings, All-Time, Streaks, Words** - 4 leaderboard types
- Competitive badges and clickable profiles
- Live in Challenges tab with real-time rankings

#### 5. **Social Feed System** ğŸ‘¥
- **Follow/Unfollow** with follower stats
- **Personal + Global Feed** - Activity from network or all users
- Beautiful gradient cards with engagement buttons
- Activity logging for entries, achievements, streaks

---

## System Architecture

### Frontend Architecture
- **Frameworks**: React with TypeScript, Vite (build tool)
- **Styling**: Tailwind CSS with shadcn/ui components, Radix UI
- **Animations**: Framer Motion
- **State Management**: React Query (@tanstack/react-query v5)
- **Charts**: Recharts
- **PDF Export**: jsPDF + html2canvas
- **Component Organization**: 7 logical folders + /ui for shadcn

### Backend Architecture
- **Framework**: Express.js with TypeScript
- **Database**: PostgreSQL (Replit, Drizzle ORM)
- **Session Management**: Express sessions
- **Authentication**: Session-based, bcrypt, OAuth, CAPTCHA
- **Email Service**: SendGrid integration for reminders
- **WebSocket**: Real-time support chat
- **AI Services**: OpenAI Whisper (speech-to-text) + GPT-4o (analysis)

## External Dependencies
- Database: @neondatabase/serverless, drizzle-orm
- Auth: bcrypt, express-session, passport
- AI: OpenAI API (GPT-4o Vision + Whisper)
- Email: SendGrid (@sendgrid/mail)
- Voice: Web Audio API, MediaRecorder
- PDF: jsPDF, html2canvas
- UI: @radix-ui, shadcn/ui, Tailwind CSS
- Charts: recharts
- Animations: Framer Motion
- Build: Vite, ESBuild

## Features by Tier

| Feature | Free | Pro | Power |
|---------|------|-----|-------|
| Voice Journal | âœ“ | âœ“ | âœ“ |
| Text Journal | âœ“ | âœ“ | âœ“ |
| AI Coaching | âœ“ | âœ“ | âœ“ |
| AI Prompts | 100/mo | âˆ | âˆ |
| Mood Tracking | âœ“ | âœ“ | âœ“ |
| Analytics | Basic | Advanced | Advanced |
| Notifications | âœ“ | âœ“ | âœ“ |
| Achievement Badges | âœ“ | âœ“ | âœ“ |
| Email Reminders | âœ“ | âœ“ | âœ“ |
| Referral System | âœ“ | âœ“ | âœ“ |
| Global Leaderboards | âœ“ | âœ“ | âœ“ |
| Social Feed | âœ“ | âœ“ | âœ“ |
| Weather Prompts | âœ“ | âœ“ | âœ“ |
| Onboarding Flow | âœ“ | âœ“ | âœ“ |
| Extended Summaries | âœ— | âœ“ | âœ“ |
| PDF Export | âœ— | âœ“ | âœ“ |
| Shared Journals | âœ“ | âœ“ | âœ“ |
| AI Coaching Premium | âœ— | âœ— | âœ“ |

## Build Status
âœ… 8 LSP errors fixed (AchievementBadges TabsTrigger issue resolved)
âœ… Production build successful (326.4kb)
âœ… App running on port 5000
âœ… All 25+ features mounted and functional
âœ… Ready for user testing and publishing

## API Routes Added (Session 14)
- GET `/api/achievements/stats` - User level and progress
- GET `/api/achievements` - Unlocked achievements list
- GET `/api/referrals/code` - Generate referral code
- GET `/api/referrals/stats` - Referral dashboard stats
- POST `/api/referrals/redeem` - Redeem a referral code
- POST `/api/notifications/check-reminders` - Smart reminder detection
- POST `/api/notifications/subscribe` - Push notification setup
- POST `/api/notifications/unsubscribe` - Push opt-out

## Recent Sessions Deployed
- Session 14: Achievement Badges + Level System + Email Reminders + Referral Growth
- Session 13: Onboarding Flow + Weather Mood Prompts
- Session 12: Advanced Analytics + Extended Summaries + Leaderboards + Social Feed

---
